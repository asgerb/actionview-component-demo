<% issues = Issue.all.to_a %>

<% require 'benchmark'
   Benchmark.bmbm do |x|
     x.report "component" do
       1000.times do -%>
       <% issues.each do |issue| %>
         <% if issue.pull_request %>
           <%= render PullRequests::Badge, state: issue.pull_request.state.to_sym, is_draft: issue.pull_request.draft? %>
         <% else %>
           <%= render Issues::Badge, state: issue.state.to_sym %>
         <% end %>
       <% end %>
    <% end
     end
     x.report "partial" do
       1000.times do -%>
       <% issues.each do |issue| %>
         <%= render partial: "issue_badge", locals: { pull_request: issue.pull_request, issue: issue } %>
       <% end %>
    <% end
     end-%>
<% end -%>
